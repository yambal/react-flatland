(this["webpackJsonp@yambal/react-flatland"]=this["webpackJsonp@yambal/react-flatland"]||[]).push([[0],{12:function(t,e,n){t.exports=n(19)},19:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),i=n(6),c=n.n(i),o=n(1),l=a.createContext([]),u=function(t){var e=t.assets,n=void 0===e?[]:e,r=a.useState([]),i=Object(o.a)(r,2),c=i[0],u=i[1];return a.useEffect((function(){var t=n.map((function(t){return fetch(t).then((function(t){return t.blob()})).then((function(e){var n=URL.createObjectURL(e),a=document.createElement("img");return a.src=n,new Promise((function(e,r){a.onload=function(){var r={key:t,url:n,width:a.width,height:a.height};e(r)}}))}))}));Promise.all(t).then((function(t){console.log(t),u(t)}))}),[]),a.createElement(l.Provider,{value:c},t.children)},h=function(t){var e=t.width,n=void 0===e?480:e,r=t.height,i=void 0===r?480:r,c=t.assets,o=void 0===c?[]:c;return a.createElement(u,{assets:o},a.createElement("svg",{width:n,height:i,viewBox:"0 0 ".concat(n," ").concat(i)},t.children))},f=n(7);function s(){var t=Object(f.a)(["\n  clip-path: polygon(\n    ","px ","px,\n    ","px ","px,\n    ","px ","px,\n    ","px ","px\n  )\n"]);return s=function(){return t},t}var p=n(8).a.image(s(),(function(t){return t.clipLeft}),(function(t){return t.clipTop}),(function(t){return t.clipLeft+t.clipWidth}),(function(t){return t.clipTop}),(function(t){return t.clipLeft+t.clipWidth}),(function(t){return t.clipTop+t.clipHeight}),(function(t){return t.clipLeft}),(function(t){return t.clipTop+t.clipHeight})),d=function(t){var e=a.useContext(l),n=t.x,r=void 0===n?0:n,i=t.y,c=void 0===i?0:i,u=t.width,h=void 0===u?32:u,f=t.height,s=void 0===f?32:f,d=t.url,m=t.frame,v=void 0===m?0:m,g=a.useState(""),x=Object(o.a)(g,2),b=x[0],y=x[1],w=a.useState(h),E=Object(o.a)(w,2),j=E[0],O=E[1],S=a.useState(s),k=Object(o.a)(S,2),L=k[0],T=k[1],W=a.useState([]),H=Object(o.a)(W,2),B=H[0],M=H[1],P=a.useState(0),C=Object(o.a)(P,2),J=C[0],R=C[1],U=a.useState(0),A=Object(o.a)(U,2),I=A[0],N=A[1];return a.useEffect((function(){var t=e.find((function(t){return t.key===d}));if(t&&b!==t.url){O(t.width),T(t.height);for(var n=[],a=0;a<Math.floor(t.height/s);a++)for(var r=0;r<Math.floor(t.width/h);r++){var i={x:r*h,y:a*h};n.push(i)}M(n),y(t.url)}}),[d,e]),a.useEffect((function(){B[v]&&(R(B[v].x),N(B[v].y))}),[B,v]),a.createElement(p,{width:j,height:L,clipHeight:h,clipWidth:s,clipLeft:J,clipTop:I,x:r-J,y:c-I,xlinkHref:b})};var m=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(h,{assets:["https://yambal.github.io/react-flatland/64x64.png"]},r.a.createElement(d,{url:"https://yambal.github.io/react-flatland/64x64.png",x:0,y:0,frame:0}),r.a.createElement(d,{url:"https://yambal.github.io/react-flatland/64x64.png",x:32,y:0,frame:1}),r.a.createElement(d,{url:"https://yambal.github.io/react-flatland/64x64.png",x:0,y:32,frame:2}),r.a.createElement(d,{url:"https://yambal.github.io/react-flatland/64x64.png",x:32,y:32,frame:3})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(m,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[12,1,2]]]);
//# sourceMappingURL=main.a4bf1420.chunk.js.map